<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Musical Lotus</title>
        <style>
            * { margin: 0; padding: 0;}

            body, html { height:100%; }

            canvas {
                position:absolute;
                width:100%;
                height:100%;
            }
        </style>
    </head>
    <body>
        <div id="container"></div>
        <script src="public/assets/p5js/lib/p5.js"></script>
        <script src="public/assets/p5js/lib/addons/p5.sound.js"></script>
        <script src="public/scripts/panning.js"></script>
        <script src="public/scripts/draw.js"></script>
        <script type="text/javascript">
            var area = document.getElementById('container');
            area.addEventListener("dragenter", dragenter, false);
            area.addEventListener("dragover", dragover, false);
            area.addEventListener("drop", drop, false);

            function dragenter(e) {
                e.stopPropagation();
                e.preventDefault();
                return false;
            }

            function dragover(e) {
                e.stopPropagation();
                e.preventDefault();
                return false;
            }

            function drop(e) {
                e.stopPropagation();
                e.preventDefault();
                if(sound) {
                    if(sound.isPaused() || sound.isPlaying()) {
                        sound.stop();
                        sound.disconnect();
                        window.sound = null;
                    }
                }

                var dt = e.dataTransfer;
                var files = dt.files;

                handleFiles(files);
            }
        </script>
    </body>
</html>
